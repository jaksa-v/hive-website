---
import "@fontsource-variable/work-sans";
import MobileNavigation from "../components/MobileNavigation.jsx";
import DesktopNavigation from "../components/DesktopNavigation.astro";
import FooterSection from "../sections/FooterSection.astro";
import backgroundImage from "../assets/background.png";

// Only load Partytown in production
const loadPartytown = import.meta.env.PROD;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    {loadPartytown && (
      <>
        <script
          is:inline
          type="text/partytown"
          src="https://www.googletagmanager.com/gtag/js?id=G-MKXRH3GCYL"></script>
        <script is:inline type="text/partytown">
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag("js", new Date());

          gtag("config", "G-MKXRH3GCYL");
        </script>
        <script is:inline type="text/partytown">
          (function (h, o, t, j, a, r) {
            h.hj =
              h.hj ||
              function () {
                (h.hj.q = h.hj.q || []).push(arguments);
              };
            h._hjSettings = { hjid: 6418383, hjsv: 6 };
            a = o.getElementsByTagName('head')[0];
            r = o.createElement('script');
            r.async = 1;
            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
            a.appendChild(r);
          })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
        </script>
      </>
    )}
    {loadPartytown && (
      <>
        <!-- Hotjar Tracking Code for https://hiveagency.me/ -->
      </>
    )}
    <title>HIVE</title>
  </head>
  <body class="font-sans bg-[#2B2B2B] relative">
    <div
      class="fixed inset-0 w-full h-full z-[-1]"
      style={`background-image: url(${backgroundImage.src}); background-size: cover; background-position: center; background-repeat: no-repeat; background-blend-mode: multiply; opacity: 0.15;`}
    ></div>
    <MobileNavigation client:load />
    <DesktopNavigation />
    <slot />
  <FooterSection />
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }
</style>
